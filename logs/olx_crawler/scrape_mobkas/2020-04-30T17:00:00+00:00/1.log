[2020-05-01 01:01:51,468] {taskinstance.py:669} INFO - Dependencies all met for <TaskInstance: olx_crawler.scrape_mobkas 2020-04-30T17:00:00+00:00 [queued]>
[2020-05-01 01:01:51,514] {taskinstance.py:669} INFO - Dependencies all met for <TaskInstance: olx_crawler.scrape_mobkas 2020-04-30T17:00:00+00:00 [queued]>
[2020-05-01 01:01:51,515] {taskinstance.py:879} INFO - 
--------------------------------------------------------------------------------
[2020-05-01 01:01:51,515] {taskinstance.py:880} INFO - Starting attempt 1 of 4
[2020-05-01 01:01:51,515] {taskinstance.py:881} INFO - 
--------------------------------------------------------------------------------
[2020-05-01 01:01:52,354] {taskinstance.py:900} INFO - Executing <Task(BashOperator): scrape_mobkas> on 2020-04-30T17:00:00+00:00
[2020-05-01 01:01:52,368] {standard_task_runner.py:53} INFO - Started process 3551 to run task
[2020-05-01 01:01:53,487] {logging_mixin.py:112} INFO - Running %s on host %s <TaskInstance: olx_crawler.scrape_mobkas 2020-04-30T17:00:00+00:00 [running]> raspberrypi
[2020-05-01 01:01:53,534] {bash_operator.py:82} INFO - Tmp dir root location: 
 /tmp
[2020-05-01 01:01:53,537] {bash_operator.py:105} INFO - Temporary script location: /tmp/airflowtmpf52mv7_e/scrape_mobkasay5u3ruo
[2020-05-01 01:01:53,537] {bash_operator.py:115} INFO - Running command: cd ~/olx_crawler && python3 olx_scrape_mobkas.py
[2020-05-01 01:01:53,552] {bash_operator.py:122} INFO - Output:
[2020-05-01 01:01:54,761] {bash_operator.py:126} INFO - Downloading html from https://www.olx.co.id/mobil-bekas_c198/q-katana
[2020-05-01 01:01:54,998] {bash_operator.py:126} INFO - Traceback (most recent call last):
[2020-05-01 01:01:54,998] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
[2020-05-01 01:01:54,999] {bash_operator.py:126} INFO -     (self._dns_host, self.port), self.timeout, **extra_kw)
[2020-05-01 01:01:54,999] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 57, in create_connection
[2020-05-01 01:01:54,999] {bash_operator.py:126} INFO -     for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):
[2020-05-01 01:01:54,999] {bash_operator.py:126} INFO -   File "/usr/lib/python3.7/socket.py", line 748, in getaddrinfo
[2020-05-01 01:01:55,000] {bash_operator.py:126} INFO -     for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
[2020-05-01 01:01:55,000] {bash_operator.py:126} INFO - socket.gaierror: [Errno -3] Temporary failure in name resolution
[2020-05-01 01:01:55,000] {bash_operator.py:126} INFO - 
[2020-05-01 01:01:55,000] {bash_operator.py:126} INFO - During handling of the above exception, another exception occurred:
[2020-05-01 01:01:55,000] {bash_operator.py:126} INFO - 
[2020-05-01 01:01:55,001] {bash_operator.py:126} INFO - Traceback (most recent call last):
[2020-05-01 01:01:55,001] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 600, in urlopen
[2020-05-01 01:01:55,001] {bash_operator.py:126} INFO -     chunked=chunked)
[2020-05-01 01:01:55,001] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 343, in _make_request
[2020-05-01 01:01:55,001] {bash_operator.py:126} INFO -     self._validate_conn(conn)
[2020-05-01 01:01:55,001] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 841, in _validate_conn
[2020-05-01 01:01:55,002] {bash_operator.py:126} INFO -     conn.connect()
[2020-05-01 01:01:55,002] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 301, in connect
[2020-05-01 01:01:55,002] {bash_operator.py:126} INFO -     conn = self._new_conn()
[2020-05-01 01:01:55,002] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 168, in _new_conn
[2020-05-01 01:01:55,002] {bash_operator.py:126} INFO -     self, "Failed to establish a new connection: %s" % e)
[2020-05-01 01:01:55,003] {bash_operator.py:126} INFO - urllib3.exceptions.NewConnectionError: <urllib3.connection.VerifiedHTTPSConnection object at 0x7344ead0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution
[2020-05-01 01:01:55,003] {bash_operator.py:126} INFO - 
[2020-05-01 01:01:55,003] {bash_operator.py:126} INFO - During handling of the above exception, another exception occurred:
[2020-05-01 01:01:55,003] {bash_operator.py:126} INFO - 
[2020-05-01 01:01:55,003] {bash_operator.py:126} INFO - Traceback (most recent call last):
[2020-05-01 01:01:55,004] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/requests/adapters.py", line 449, in send
[2020-05-01 01:01:55,004] {bash_operator.py:126} INFO -     timeout=timeout
[2020-05-01 01:01:55,004] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 638, in urlopen
[2020-05-01 01:01:55,004] {bash_operator.py:126} INFO -     _stacktrace=sys.exc_info()[2])
[2020-05-01 01:01:55,004] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 398, in increment
[2020-05-01 01:01:55,005] {bash_operator.py:126} INFO -     raise MaxRetryError(_pool, url, error or ResponseError(cause))
[2020-05-01 01:01:55,005] {bash_operator.py:126} INFO - urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.olx.co.id', port=443): Max retries exceeded with url: /mobil-bekas_c198/q-katana (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7344ead0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution'))
[2020-05-01 01:01:55,005] {bash_operator.py:126} INFO - 
[2020-05-01 01:01:55,005] {bash_operator.py:126} INFO - During handling of the above exception, another exception occurred:
[2020-05-01 01:01:55,005] {bash_operator.py:126} INFO - 
[2020-05-01 01:01:55,006] {bash_operator.py:126} INFO - Traceback (most recent call last):
[2020-05-01 01:01:55,006] {bash_operator.py:126} INFO -   File "olx_scrape_mobkas.py", line 104, in <module>
[2020-05-01 01:01:55,006] {bash_operator.py:126} INFO -     content = download_mobkas_html(metadata)
[2020-05-01 01:01:55,006] {bash_operator.py:126} INFO -   File "olx_scrape_mobkas.py", line 14, in download_mobkas_html
[2020-05-01 01:01:55,006] {bash_operator.py:126} INFO -     response = requests.get(url, timeout = 5)
[2020-05-01 01:01:55,007] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/requests/api.py", line 75, in get
[2020-05-01 01:01:55,007] {bash_operator.py:126} INFO -     return request('get', url, params=params, **kwargs)
[2020-05-01 01:01:55,007] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/requests/api.py", line 60, in request
[2020-05-01 01:01:55,007] {bash_operator.py:126} INFO -     return session.request(method=method, url=url, **kwargs)
[2020-05-01 01:01:55,007] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
[2020-05-01 01:01:55,008] {bash_operator.py:126} INFO -     resp = self.send(prep, **send_kwargs)
[2020-05-01 01:01:55,008] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
[2020-05-01 01:01:55,008] {bash_operator.py:126} INFO -     r = adapter.send(request, **kwargs)
[2020-05-01 01:01:55,008] {bash_operator.py:126} INFO -   File "/usr/lib/python3/dist-packages/requests/adapters.py", line 516, in send
[2020-05-01 01:01:55,008] {bash_operator.py:126} INFO -     raise ConnectionError(e, request=request)
[2020-05-01 01:01:55,008] {bash_operator.py:126} INFO - requests.exceptions.ConnectionError: HTTPSConnectionPool(host='www.olx.co.id', port=443): Max retries exceeded with url: /mobil-bekas_c198/q-katana (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7344ead0>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution'))
[2020-05-01 01:01:55,138] {bash_operator.py:130} INFO - Command exited with return code 1
[2020-05-01 01:01:55,156] {taskinstance.py:1145} ERROR - Bash command failed
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/dist-packages/airflow/models/taskinstance.py", line 983, in _run_raw_task
    result = task_copy.execute(context=context)
  File "/usr/local/lib/python3.7/dist-packages/airflow/operators/bash_operator.py", line 134, in execute
    raise AirflowException("Bash command failed")
airflow.exceptions.AirflowException: Bash command failed
[2020-05-01 01:01:55,167] {taskinstance.py:1168} INFO - Marking task as UP_FOR_RETRY
[2020-05-01 01:02:02,431] {logging_mixin.py:112} INFO - [2020-05-01 01:02:02,429] {local_task_job.py:103} INFO - Task exited with return code 1
